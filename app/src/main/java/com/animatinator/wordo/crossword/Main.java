package com.animatinator.wordo.crossword;

import com.animatinator.wordo.crossword.board.Board;
import com.animatinator.wordo.crossword.evaluate.SimpleBoardEvaluator;
import com.animatinator.wordo.crossword.generate.BoardGenerationFlagConstant;
import com.animatinator.wordo.crossword.generate.BoardGenerationFlags;
import com.animatinator.wordo.crossword.generate.BoardGenerator;
import com.animatinator.wordo.crossword.print.BoardPrinter;
import com.animatinator.wordo.crossword.print.BoardToDebugOutput;
import com.animatinator.wordo.crossword.print.SystemOutPrinter;

import java.util.Arrays;

public class Main {
    // A testing set of words.
    private static final String[] words = new String[]{
            "ads", "cue", "sad", "sea", "sue", "use", "aces", "case", "cues", "dues", "used", "cause", "sauce",
            "caused"};
    // A set of words generated by https://github.com/animatinator/experimental/tree/master/crossword-dictionary.
    private static final String[] generatedWords = new String[]{
            "true", "elect", "etc", "rule", "cute", "cut", "let", "rule", "lecture", "clue"};

    public static void main(String[] args) {
        BoardGenerationFlags flags = setUpFlags();
        BoardGenerator generator = new BoardGenerator(new SimpleBoardEvaluator(flags), flags);
        Board board = generator.generateBoard(Arrays.asList(generatedWords));
        BoardPrinter printer = new BoardPrinter(new SystemOutPrinter(), new BoardToDebugOutput(true));
        printer.printBoard(board);
    }

    private static BoardGenerationFlags setUpFlags() {
        BoardGenerationFlags flags = new BoardGenerationFlags();

        flags.setFlag(BoardGenerationFlagConstant.PICK_RANDOMLY_FROM_BEST_FEW_WORD_PLACEMENTS, true);
        flags.setFlag(BoardGenerationFlagConstant.GENERATE_SEVERAL_BOARDS, true);
        flags.setFlag(BoardGenerationFlagConstant.PREFER_MORE_INTERSECTIONS, true);

        return flags;
    }
}

